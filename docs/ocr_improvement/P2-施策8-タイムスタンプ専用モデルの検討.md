# P2-施策 8: タイムスタンプ専用モデルの検討

## 優先度

**P2（中長期対応: 1-3 ヶ月）**

## 目的

OCR エンジンに依存しない高精度認識を実現する。

## 問題背景

- 既存の OCR エンジン（Tesseract、PaddleOCR、EasyOCR）は汎用的な文字認識に特化
- タイムスタンプ専用のモデルにより、より高精度な認識が可能
- 長期的な精度向上とメンテナンス性の向上が期待できる

## 実装内容

### 1. タイムスタンプ専用の CNN/Transformer モデルの訓練

- タイムスタンプ画像のデータセットを構築
- CNN または Transformer アーキテクチャの選択
- モデルの訓練と評価

### 2. ファインチューニング用データセットの構築

- 実際の動画からタイムスタンプ領域を抽出
- アノテーション（正解ラベル）の作成
- データ拡張（回転、ノイズ、コントラスト調整など）

### 3. モデルの統合と評価

- 既存の OCR エンジンとの統合
- モデルの性能評価（精度、処理時間、メモリ使用量）
- 段階的な導入（オプション機能として）

## 期待効果

**精度向上: 30-50%（長期的）**

## 実装ファイル

- 新規モジュール: `src/timestamp/model_based_extractor.py`
  - 新規クラス: `ModelBasedTimestampExtractor`
  - 新規メソッド: `_load_model()`
  - 新規メソッド: `_predict_timestamp()`
- 新規ディレクトリ: `data/timestamp_dataset/`
  - 訓練データ、検証データ、テストデータ

## 実装工数

**2-3 週間**

## 検証方法

- モデルの精度を評価（認識率、誤認識率）
- 処理時間とメモリ使用量を測定
- 既存の OCR エンジンとの比較

## 成功基準

- モデルの認識率 ≥ 95%
- 処理時間 ≤ 2 秒/フレーム
- メモリ使用量 ≤ 2GB

## 関連施策

- 施策 6: 複数 OCR エンジンのアンサンブル強化（P1、連携可能）
- 施策 7: 外れ値検知の強化（P2、並行実施可能）

## 注意事項

- データセットの構築に時間がかかる
- モデルの訓練には計算リソースが必要
- 段階的な導入を推奨（最初はオプション機能として）
